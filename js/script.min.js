let svgAnimationInitializedfalsefunction initSVGAnimationifsvgAnimationInitializedreturnsvgAnimationInitializedtrueconst svgLogodocument.querySelector'.navbarlogosvg'if!svgLogoreturnrequestAnimationFrame>const viewBoxsvgLogo.getAttribute'viewBox'if!viewBoxreturnconst viewBoxValuesviewBox.split\sconst svgHeightparseFloatviewBoxValues3|| 630const splitPointsvgHeight0.6const allElementssvgLogo.querySelectorAll'pathglinecirclerectellipse'const strokedPathsconst tentElementsconst furnitureElementsallElements.forEachelement>ifelement.tagName'path'const currentFillelement.getAttribute'fill'if!currentFill || currentFill'none' || currentFill'' || currentFill'transparent'element.setAttribute'fill''#8b2d5c'const strokeelement.getAttribute'stroke'ifstroke && stroke !'none' && stroke !''strokedPaths.pushelementifelement.classList.contains'tentelement'|| element.classList.contains'furnitureelement'returnconst parentelement.parentElementifparentifparent.classList.contains'tentelement'element.classList.add'tentelement'tentElements.pushelementreturnelse ifparent.classList.contains'furnitureelement'element.classList.add'furnitureelement'furnitureElements.pushelementreturnlet yPosition0let hasPositionfalseconst cyelement.getAttribute'cy'const yelement.getAttribute'y'const delement.getAttribute'd'const transformelement.getAttribute'transform'ifcyyPositionparseFloatcyhasPosition!isNaNyPositionelse ifyyPositionparseFloatyhasPosition!isNaNyPositionelse ifdconst firstCoordd.matchML\s\d.\s\d.iffirstCoordyPositionparseFloatfirstCoord1hasPosition!isNaNyPositioniftransform && transform.includes'translate'const translateMatchtransform.matchtranslate\^\s^\iftranslateMatchconst translateYparseFloattranslateMatch1if!isNaNtranslateYyPositionhasPosition ? yPositiontranslateYtranslateYhasPositiontrueif!hasPositiontryconst bboxelement.getBBoxyPositionbbox.ybbox.height2hasPositiontruecatcheifyPosition < splitPoint || yPosition0 || !hasPositionelement.classList.add'tentelement'tentElements.pushelementelseelement.classList.add'furnitureelement'furnitureElements.pushelementrequestAnimationFrame>strokedPaths.forEachpath>tryconst pathLengthpath.getTotalLengthifpathLength > 0path.style.setProperty'pathlength'pathLengthpath.style.strokeDasharraypathLengthpath.style.strokeDashoffsetpathLengthcatchepath.style.setProperty'pathlength''1000'path.style.strokeDasharray'1000'path.style.strokeDashoffset'1000'const allClassifiedElements...tentElements...furnitureElementsallClassifiedElements.forEachel>el.style.setProperty'visibility''visible'el.style.setProperty'display''block'document.addEventListener'DOMContentLoaded'functionconst svgLogodocument.querySelector'.navbarlogosvg'ifsvgLogoconst logoObservernew IntersectionObserverfunctionentriesentries.forEachentry>ifentry.isIntersectinginitSVGAnimationlogoObserver.unobserveentry.targetrootMargin'50px'logoObserver.observesvgLogosetTimeout>if!svgAnimationInitializedinitSVGAnimation2000document.querySelectorAll'ahref^"#"'.forEachanchor>anchor.addEventListener'click'functionee.preventDefaultconst targetIdthis.getAttribute'href'iftargetId'#'window.scrollTotop0behavior'smooth'returnconst targetdocument.querySelectortargetIdiftargetconst navbardocument.querySelector'.navbar'const navbarHeightnavbar ? navbar.offsetHeight0const targetPositiontarget.offsetTopnavbarHeightwindow.scrollTotoptargetPositionbehavior'smooth'const navbarCollapsedocument.querySelector'.navbarcollapse'ifnavbarCollapse && navbarCollapse.classList.contains'show'const bsCollapsenew bootstrap.CollapsenavbarCollapsetogglefalsebsCollapse.hidedocument.addEventListener'DOMContentLoaded'functionconst navbardocument.querySelector'.navbar'const navbarCollapsedocument.querySelector'.navbarcollapse'const navbarTogglerdocument.querySelector'.navbartoggler'if!navbar || !navbarCollapsereturndocument.addEventListener'click'functioneif!navbarCollapse.classList.contains'show'returnconst isClickInsideNavbarnavbar.containse.targetconst isClickOnTogglernavbarToggler && navbarToggler.containse.targetif!isClickInsideNavbar && !isClickOnTogglerifwindow.innerWidth < 992const bsCollapsebootstrap.Collapse.getInstancenavbarCollapseifbsCollapsebsCollapse.hideelseconst newBsCollapsenew bootstrap.CollapsenavbarCollapsetogglefalsenewBsCollapse.hidefunction throttleRAFfnlet busyfalsereturn function...argsifbusyreturnbusytruerequestAnimationFrame>fn.applythisargsbusyfalsewindow.addEventListener'scroll'throttleRAFfunctionconst navbardocument.querySelector'.navbar'const scrollYwindow.pageYOffsetifnavbarifscrollY > 50navbar.classList.add'scrolled'elsenavbar.classList.remove'scrolled'const sectionsdocument.querySelectorAll'sectionid'const navLinksdocument.querySelectorAll'.navlinkhref^"#"'let current''const scrollPositionscrollY200sections.forEachsection>const sectionTopsection.offsetTopconst sectionHeightsection.clientHeightifscrollPosition >sectionTop && scrollPosition < sectionTopsectionHeightcurrentsection.getAttribute'id'navLinks.forEachlink>link.classList.remove'active'const hreflink.getAttribute'href'ifhref`#$current` ||current'' && href'#home'link.classList.add'active'const EMAILJS_SERVICE_ID'service_gbdye75'const EMAILJS_TEMPLATE_ID'template_g4dpyg9'const EMAILJS_PUBLIC_KEY'VX5dplNyGfKt_KxxH'let emailjsLoadedfalselet emailjsLoadingfalsefunction loadEmailJSifemailjsLoaded || emailjsLoadingreturnemailjsLoadingtrueconst scriptdocument.createElement'script'script.src'httpsscript.asynctruescript.onloadfunctioniftypeof emailjs !'undefined'emailjs.initEMAILJS_PUBLIC_KEYemailjsLoadedtrueemailjsLoadingfalseinitContactFormscript.onerrorfunctionemailjsLoadingfalseconsole.warn'Failed to load EmailJS'initContactFormdocument.head.appendChildscriptconst contactSectionObservernew IntersectionObserverfunctionentriesentries.forEachentry>ifentry.isIntersecting && !emailjsLoaded && !emailjsLoadingloadEmailJScontactSectionObserver.unobserveentry.targetrootMargin'200px'document.addEventListener'DOMContentLoaded'functionconst contactSectiondocument.getElementById'contact'ifcontactSectioncontactSectionObserver.observecontactSectionelseloadEmailJSfunction initContactFormconst contactFormdocument.getElementById'contactForm'if!contactFormreturncontactForm.addEventListener'submit'functionee.preventDefaultconst namedocument.getElementById'name'.value.trimconst emaildocument.getElementById'email'.value.trimconst phonedocument.getElementById'phone'.value.trimconst eventDatedocument.getElementById'eventDate'.valueconst locationdocument.getElementById'location'.valueconst eventTypedocument.getElementById'eventType'.valueconst guestCountdocument.getElementById'guestCount'.valueconst messagedocument.getElementById'message'.value.trimif!name || !email || !phone || !messagealert'Please fill in all required fields marked with.'returnconst emailRegex^^\s@@^\s@\.^\s@$if!emailRegex.testemailalert'Please enter a valid email address.'returnifphone.length < 10alert'Please enter a valid phone number.'returnif!locationalert'Please select an event location.'returnconst submitButtonthis.querySelector'buttontype"submit"'const originalButtonTextsubmitButton.textContentsubmitButton.disabledtruesubmitButton.textContent'Sending...'const templateParamsnamenamefrom_namenamefrom_emailemailphonephoneevent_dateeventDate || 'Not specified'locationlocationevent_typeeventType || 'Not specified'guest_countguestCount || 'Not specified'messagemessageto_email'info@regalpartyrentals.ca'ifemailjsLoaded && typeof emailjs !'undefined'emailjs.sendEMAILJS_SERVICE_IDEMAILJS_TEMPLATE_IDtemplateParams.thenfunctionresponseconsole.log'Email sent successfully!'response.statusresponse.textalert'Thank you for your inquiry! We have received your message and will contact you shortly at 'email'.'contactForm.resetsubmitButton.disabledfalsesubmitButton.textContentoriginalButtonTextfunctionerrorconsole.error'Email sending failed'erroralert'Sorrythere was an error sending your message. Please try again or contact us directly at info@regalpartyrentals.ca'submitButton.disabledfalsesubmitButton.textContentoriginalButtonTextelseconsole.warn'EmailJS not loaded yet. Please try again in a moment.'alert'Email service is loading. Please try again in a moment or contact us directly at info@regalpartyrentals.ca'submitButton.disabledfalsesubmitButton.textContentoriginalButtonTextconst observerOptionsthreshold0.1rootMargin'0px 0px50px 0px'document.addEventListener'DOMContentLoaded'functionconst cardsdocument.querySelectorAll'.card.locationcard.reviewcard.featureicon'cards.forEachcardindex>card.style.opacity'0'card.style.transform'translateY30px'card.style.transition'all 0.6s cubicbezier0.400.21'card.setAttribute'datadelay'index0.1combinedObserver.observecardconst headingsdocument.querySelectorAll'h2.display4h3'headings.forEachheadingindex>heading.style.opacity'0'heading.style.transform'translateY20px'heading.setAttribute'datadelay'index0.05combinedObserver.observeheadingconst eventDateInputdocument.getElementById'eventDate'ifeventDateInputconst todaynew Date.toISOString.split'T'0eventDateInput.setAttribute'min'todayinitParallaxEffectinitScrollProgressfunction initScrollProgresslet progressContainerdocument.querySelector'.scrollprogress'if!progressContainerprogressContainerdocument.createElement'div'progressContainer.className'scrollprogress'progressContainer.setAttribute'role''progressbar'progressContainer.setAttribute'ariavaluemin''0'progressContainer.setAttribute'ariavaluemax''100'progressContainer.setAttribute'ariavaluenow''0'progressContainer.innerHTML'<div class"scrollprogress__bar"><div>'document.body.appendChildprogressContainerconst progressBarprogressContainer.querySelector'.scrollprogress__bar'function updateProgressconst scrollTopwindow.pageYOffset || document.documentElement.scrollTopconst docHeightdocument.documentElement.scrollHeightdocument.documentElement.clientHeightconst progressdocHeight > 0 ?scrollTopdocHeight1000progressBar.style.widthprogress'%'progressContainer.setAttribute'ariavaluenow'progress.toFixed0updateProgresswindow.addEventListener'scroll'updateProgresswindow.addEventListener'resize'updateProgressconst combinedObservernew IntersectionObserverfunctionentriesentries.forEachentry>ifentry.isIntersectingconst delayparseFloatentry.target.getAttribute'datadelay'|| 0requestAnimationFrame>setTimeout>entry.target.style.opacity'1'entry.target.style.transform'translateY0'delay100combinedObserver.unobserveentry.targetthreshold0.1rootMargin'0px 0px50px 0px'document.addEventListener'DOMContentLoaded'functionconst animatedElementsdocument.querySelectorAll'.card.locationcard.reviewcardh2.display4'animatedElements.forEachel>if!el.classList.contains'fadeinup'combinedObserver.observeelconst phoneInputdocument.getElementById'phone'ifphoneInputphoneInput.addEventListener'input'functionelet valuee.target.value.replace\Dg''ifvalue.length10value''value.substring03''value.substring36''value.substring6e.target.valuevalueif'IntersectionObserver' in windowconst imageObservernew IntersectionObserverentriesobserver>entries.forEachentry>ifentry.isIntersectingconst imgentry.targetifimg.dataset.srcimg.srcimg.dataset.srcimg.removeAttribute'datasrc'imageObserver.unobserveimgdocument.querySelectorAll'imgdatasrc'.forEachimg>imageObserver.observeimgdocument.addEventListener'DOMContentLoaded'functionconst imagesdocument.querySelectorAll'img'images.forEachimg>img.addEventListener'error'functionthis.style.display'none'const placeholderdocument.createElement'div'placeholder.style.cssText'height250pxbackgroundlineargradient135deg#8B2D5C 0%#6B46C1 50%#D4A574 100%displayflexalignitemscenterjustifycontentcentercolorwhitefontweight500'placeholder.textContent'Image Coming Soon'this.parentNode.insertBeforeplaceholderthisfunction initParallaxEffectconst heroSectiondocument.querySelector'.herosection'if!heroSectionreturnifwindow.matchMedia && window.matchMedia'prefersreducedmotionreduce'.matchesreturnifwindow.innerWidth <768returnlet lastScrollY0window.addEventListener'scroll'throttleRAFfunctionconst scrolledwindow.pageYOffsetifMath.absscrolledlastScrollY< 10returnlastScrollYscrolledconst heroContentdocument.querySelector'.herooverlay'ifheroContent && scrolled < window.innerHeightheroContent.style.transform`translateY$scrolled0.3px`heroContent.style.opacity1scrolledwindow.innerHeight0.3function animateValueelementstartenddurationlet startTimestampnullconst steptimestamp>if!startTimestampstartTimestamptimestampconst progressMath.mintimestampstartTimestampduration1element.textContentMath.floorprogressendstartstartifprogress < 1window.requestAnimationFramestepwindow.requestAnimationFramestepconst reviewCountObservernew IntersectionObserverfunctionentriesentries.forEachentry>ifentry.isIntersectingconst reviewCountElementdocument.getElementById'reviewCount'ifreviewCountElement && !reviewCountElement.classList.contains'animated'reviewCountElement.classList.add'animated'const finalValueparseIntreviewCountElement.textContentanimateValuereviewCountElement0finalValue2000threshold0.5document.addEventListener'DOMContentLoaded'functionconst reviewCountdocument.getElementById'reviewCount'ifreviewCountreviewCountObserver.observereviewCountinitHeroButtonEffectsinitHeroTextEffectsfunction initHeroButtonEffectsconst heroButtonsdocument.querySelectorAll'.herocta1.herocta2'heroButtons.forEachbutton>button.addEventListener'mousemove'functioneconst rectbutton.getBoundingClientRectconst xe.clientXrect.leftrect.width2const ye.clientYrect.toprect.height2button.style.transform`translate$x0.1px$y0.1pxscale1.05`button.addEventListener'mouseleave'functionbutton.style.transform'translate00scale1'setInterval>ifdocument.querySelector'.herosectionhover'button.style.boxShadow'0 0 30px rgba13945920.6'setTimeout>button.style.boxShadow''5003000function initHeroTextEffectsconst heroTitledocument.querySelector'.herotitle'ifheroTitleheroTitle.addEventListener'mouseenter'functionthis.style.textShadow'0 0 30px rgba2552552550.83px 3px 10px rgba0000.3'this.style.transform'scale1.02'heroTitle.addEventListener'mouseleave'functionthis.style.textShadow'3px 3px 10px rgba0000.3'this.style.transform'scale1'document.addEventListener'DOMContentLoaded'functionconst scrollTopButtondocument.getElementById'scrolltop'ifscrollTopButtonwindow.addEventListener'scroll'throttleRAFfunctionifwindow.pageYOffset > 300scrollTopButton.classList.add'active'elsescrollTopButton.classList.remove'active'scrollTopButton.addEventListener'click'functionee.preventDefaultwindow.scrollTotop0behavior'smooth'
